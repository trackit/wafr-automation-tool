openapi: 3.0.3
info:
  title: Assessment API
  version: 1.0.0
  description: |
    This API provides endpoints for managing assessments in a structured and efficient manner.
    You can create, retrieve, and delete assessments, as well as manage associated findings, best practices, and questions.
  contact:
    email: team@trackit.io
    name: TrackIt
    url: https://trackit.io/
  license:
    name: Apache 2.0
    url: https://www.apache.org/licenses/LICENSE-2.0.html
tags:
  - name: Assessments
    description: Assessment
  - name: Best Practices
    description: WAF Best Practices
  - name: Exports
    description: Export operations
  - name: Findings
    description: Findings generated by several tools
  - name: Pillars
    description: WAFR Pillars
  - name: Questions
    description: WAFR Questions
paths:
  /organization:
    get:
      operationId: getOrganization
      tags:
        - Organizations
      summary: Retrieve details of organization of the user
      description: |
        Retrieves relevant details about the organization of the connected user that will be included in the dashboard.
      responses:
        '200':
          description: Details of Organization retrieved successfully
          content:
            application/json:
              schema:
                type: object
                required:
                  - currentYearTotalAssessments
                  - opportunitiesPerMonth
                properties:
                  currentYearTotalAssessments:
                    type: integer
                    description: Total number of assessments during the current year associated with the organization
                  opportunitiesPerMonth:
                    type: array
                    description: Array of objects representing opportunities count per month for last 12 months
                    items:
                      type: object
                      required:
                        - month
                        - opportunities
                      properties:
                        month:
                          type: string
                          description: Month formatted as MM-YYYY
                        opportunities:
                          type: integer
                          description: Number of ACE opportunities in that month
        '400':
          description: A issue occurred while trying to retrieve the organization of the user
        '500':
          description: Internal server error.
  /assessments:
    get:
      operationId: getAssessments
      tags:
        - Assessments
      summary: Retrieve a list of all assessments
      description: |
        Retrieves all assessments that have been created in the system.
        Useful for monitoring and managing multiple assessments in one place.
      parameters:
        - name: limit
          in: query
          description: Maximum number of assessments to return
          schema:
            type: integer
            default: 10
        - name: search
          in: query
          description: 'Search term to filter assessments by name, role ARN, or id'
          schema:
            type: string
        - name: nextToken
          in: query
          description: Token for pagination.
          schema:
            type: string
      responses:
        '200':
          description: List of all assessments
          content:
            application/json:
              schema:
                type: object
                properties:
                  assessments:
                    type: array
                    items:
                      $ref: '#/components/schemas/Assessment'
                  nextToken:
                    type: string
                    description: |
                      Token for pagination. If there are more assessments than can be returned in a single response,
                      this token will allow you to retrieve the next set of results.
        '400':
          description: A issue occurred while trying to retrieve the organization of the user
        '500':
          description: Internal server error.
    post:
      operationId: startAssessment
      tags:
        - Assessments
      summary: Start a new assessment process
      description: |
        Initiates a new assessment for a given role.
        You can specify a role ARN for the assessment, or a default role will be used.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - roleArn
              properties:
                name:
                  type: string
                  description: Name of the assessment to be created
                regions:
                  type: array
                  items:
                    type: string
                  description: |
                    List of regions to scan
                    If empty, all regions will be scanned
                roleArn:
                  type: string
                  description: |
                    The role ARN to associate with the assessment.
                    If not provided, a default role will be used.
                workflows:
                  type: array
                  items:
                    type: string
                  description: |
                    The workflows to associate with the assessment.
                    If not provided, no workflows will be associated.
      responses:
        '201':
          description: The assessment has been successfully created
          content:
            application/json:
              schema:
                type: object
                properties:
                  assessmentId:
                    type: string
                    description: The unique ID of the newly created assessment
        '400':
          description: Bad Request. Missing or invalid parameters were provided. Or a issue occurred while trying to retrieve the organization of the user or the user id
        '403':
          description: Payment Required. The user does not have a subscription
        '500':
          description: Internal server error.
  '/assessments/{assessmentId}':
    get:
      operationId: getAssessment
      tags:
        - Assessments
      summary: Retrieve details of a specific assessment
      description: |
        Retrieves detailed information about a specific assessment,
        including associated findings, questions, and any current errors.
      parameters:
        - name: assessmentId
          in: path
          description: The unique ID of the assessment to retrieve
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Detailed information about the specified assessment
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssessmentContent'
        '404':
          description: The specified assessment could not be found
        '500':
          description: Internal server error.
    put:
      operationId: updateAssessment
      tags:
        - Assessments
      summary: Update the details of a specific assessment
      description: |
        Updates the details of a specific assessment, such as the name or role ARN.
      parameters:
        - name: assessmentId
          in: path
          description: The unique ID of the assessment to update
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AssessmentDto'
      responses:
        '200':
          description: The assessment has been successfully updated
        '400':
          description: Invalid request or empty body or a issue occurred while trying to retrieve the organization of the user
        '404':
          description: The specified assessment could not be found
        '500':
          description: Internal server error.
    post:
      operationId: rescanAssessment
      tags:
        - Assessments
      summary: Rescan an assessment
      description: |
        Rescans an assessment, updating the findings and best practices.
      parameters:
        - name: assessmentId
          in: path
          description: The unique ID of the assessment to rescan
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The assessment has been successfully rescanned
        '400':
          description: A issue occurred while trying to retrieve the organization of the user
        '404':
          description: The specified assessment could not be found
        '500':
          description: Internal server error.
    delete:
      operationId: deleteAssessment
      tags:
        - Assessments
      summary: Delete a specific assessment
      description: |
        Deletes an assessment from the system.
        Once deleted, the assessment cannot be recovered.
      parameters:
        - name: assessmentId
          in: path
          description: The unique ID of the assessment to delete
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The assessment has been successfully deleted
        '400':
          description: A issue occurred while trying to retrieve the organization of the user
        '404':
          description: The specified assessment could not be found
        '500':
          description: Internal server error.
  '/assessments/{assessmentId}/graph':
    get:
      operationId: getAssessmentGraph
      tags:
        - Assessments
      summary: Retrieve the graph of findings for a specific assessment
      description: |
        Fetches the graph of findings for a specific assessment.
      parameters:
        - name: assessmentId
          in: path
          description: The unique ID of the assessment to retrieve the graph of findings for
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The graph of findings for the specified assessment
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssessmentGraph'
        '400':
          description: A issue occurred while trying to retrieve the organization of the user
        '404':
          description: The specified assessment could not be found
        '500':
          description: Internal server error.
  '/assessments/{assessmentId}/step':
    get:
      operationId: getAssessmentStep
      tags:
        - Assessments
      summary: Retrieve the current step for a specific assessment
      description: |
        Fetches the current step in the assessment process.
      parameters:
        - name: assessmentId
          in: path
          description: The unique ID of the assessment to retrieve step for
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The current step for the specified assessment
          content:
            application/json:
              schema:
                type: object
                required:
                  - step
                properties:
                  step:
                    $ref: '#/components/schemas/AssessmentStep'
        '400':
          description: An issue occurred while trying to retrieve the organization of the user
        '404':
          description: The specified assessment could not be found
        '500':
          description: Internal server error.
  '/assessments/{assessmentId}/milestones':
    get:
      operationId: getMilestones
      tags:
        - Assessments
      summary: Retrieve all milestones for a specific assessment
      description: |
        Fetches all milestones associated with a specific assessment.
      parameters:
        - name: assessmentId
          in: path
          description: The unique ID of the assessment to retrieve milestones for
          required: true
          schema:
            type: string
        - name: region
          in: query
          description: The region to filter milestones by.
          schema:
            type: string
        - name: limit
          in: query
          description: Maximum number of milestones to return
          schema:
            type: integer
            default: 10
        - name: nextToken
          in: query
          description: Token for pagination.
          schema:
            type: string
      responses:
        '200':
          description: A list of milestones related to the specified assessment
          content:
            application/json:
              schema:
                type: object
                required:
                  - milestones
                properties:
                  milestones:
                    type: array
                    items:
                      $ref: '#/components/schemas/MilestoneSummary'
                  nextToken:
                    type: string
                    description: |
                      Token for pagination. If there are more milestones than can be returned in a single response,
                      this token will allow you to retrieve the next set of results.
        '400':
          description: An issue occurred while trying to retrieve the organization of the user
        '404':
          description: The specified assessment could not be found
        '500':
          description: Internal server error.
  '/assessments/{assessmentId}/milestones/{milestoneId}':
    get:
      operationId: getMilestone
      tags:
        - Assessments
      summary: Retrieve a specific milestone
      description: |
        Fetches all details associated with a specific milestone.
      parameters:
        - name: assessmentId
          in: path
          description: The unique ID of the assessment to retrieve milestones for
          required: true
          schema:
            type: string
        - name: milestoneId
          in: path
          description: The unique ID of the milestone to retrieve pillars for
          required: true
          schema:
            type: string
        - name: region
          in: query
          description: The region to filter milestones by.
          schema:
            type: string
      responses:
        '200':
          description: A list of pillars related to the specified milestone
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Milestone'
        '400':
          description: An issue occurred while trying to retrieve the organization of the user
        '404':
          description: The specified assessment could not be found
        '500':
          description: Internal server error.
  '/assessments/{assessmentId}/exports/create-milestone':
    post:
      operationId: createMilestone
      tags:
        - Exports
      summary: Create a milestone for the assessment
      description: |
        Creates a milestone for the assessment.
      parameters:
        - name: assessmentId
          in: path
          description: The unique ID of the assessment to create a milestone for
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              properties:
                region:
                  type: string
                  description: The region to create the milestone in.
                name:
                  type: string
                  description: The name of the milestone to create.
      responses:
        '200':
          description: The milestone has been successfully created
        '400':
          description: Invalid request body or a issue occurred while trying to retrieve the organization or email of the user
        '404':
          description: The specified assessment could not be found
        '500':
          description: Internal server error.
  '/assessments/{assessmentId}/exports/well-architected-tool':
    post:
      operationId: exportWellArchitectedTool
      tags:
        - Exports
      summary: Export the assessment to Well Architected Tool
      description: |
        Exports the assessment to Well Architected Tool.
      parameters:
        - name: assessmentId
          in: path
          description: The unique ID of the assessment to export
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                region:
                  type: string
                  description: The region to export the assessment to.
      responses:
        '200':
          description: The assessment has been successfully exported
        '400':
          description: Invalid request body or a issue occurred while trying to retrieve the organization or email of the user
        '404':
          description: The specified assessment could not be found
        '500':
          description: Internal server error.
  '/assessments/{assessmentId}/exports/pdf':
    get:
      operationId: listPDFExports
      tags:
        - Exports
      summary: List the PDF exports of an assessment
      description: |
        Lists the PDF exports of an assessment.
      parameters:
        - name: assessmentId
          in: path
          description: The unique ID of the assessment to list the exports of
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The list of PDF exports has been successfully retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/FileExport'
        '400':
          description: Invalid request path parameters
        '404':
          description: The specified assessment could not be found
        '500':
          description: Internal server error.
    post:
      operationId: startPDFExport
      tags:
        - Exports
      summary: Starts a PDF export for the specified assessment
      description: |
        Starts a PDF export for the specified assessment.
      parameters:
        - name: assessmentId
          in: path
          description: The unique ID of the assessment to export
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - versionName
              properties:
                versionName:
                  type: string
                  description: The version name of the PDF export
      responses:
        '200':
          description: The PDF export has been started successfully
        '400':
          description: Invalid request parameters
        '404':
          description: The specified assessment could not be found
        '500':
          description: Internal server error.
  '/assessments/{assessmentId}/exports/pdf/{fileExportId}/url':
    get:
      operationId: generatePDFExportURL
      tags:
        - Exports
      summary: Generate a pre-signed URL for a specific PDF export of an assessment
      description: |
        Generates a pre-signed URL for a specific PDF export of an assessment.
      parameters:
        - name: assessmentId
          in: path
          description: The unique ID of the assessment to list the exports of
          required: true
          schema:
            type: string
        - name: fileExportId
          in: path
          description: The unique ID of the PDF export to delete
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The PDF export URL has been successfully generated
          content:
            application/json:
              schema:
                type: object
                required:
                  - url
                properties:
                  url:
                    type: string
                    description: The URL of the PDF export
        '400':
          description: Invalid request path parameters
        '404':
          description: The specified assessment could not be found
        '500':
          description: Internal server error.
  '/assessments/{assessmentId}/exports/pdf/{fileExportId}':
    delete:
      operationId: deletePDFExport
      tags:
        - Exports
      summary: Delete a specific PDF export of an assessment
      description: |
        Deletes a specific PDF export of an assessment.
      parameters:
        - name: assessmentId
          in: path
          description: The unique ID of the assessment to list the exports of
          required: true
          schema:
            type: string
        - name: fileExportId
          in: path
          description: The unique ID of the PDF export to delete
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The PDF export has been successfully deleted
        '400':
          description: Invalid request path parameters
        '404':
          description: The specified assessment could not be found
        '500':
          description: Internal server error.
  '/assessments/{assessmentId}/pillars/{pillarId}':
    put:
      operationId: updatePillar
      tags:
        - Pillars
      summary: Update the details of a specific pillar
      description: |
        Updates the details of a specific pillar.
      parameters:
        - name: assessmentId
          in: path
          required: true
          description: The ID of the assessment
          schema:
            type: string
        - name: pillarId
          in: path
          required: true
          description: The ID of the pillar
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PillarDto'
      responses:
        '200':
          description: The pillar has been successfully updated
        '400':
          description: Invalid request body or a issue occurred while trying to retrieve the organization of the user
        '404':
          description: The specified assessment, or pillar could not be found
        '500':
          description: Internal server error.
  '/assessments/{assessmentId}/pillars/{pillarId}/questions/{questionId}':
    put:
      operationId: updateQuestion
      tags:
        - Questions
      summary: Update the details of a specific question
      description: |
        Updates the details of a specific question.
      parameters:
        - name: assessmentId
          in: path
          required: true
          description: The ID of the assessment
          schema:
            type: string
        - name: pillarId
          in: path
          required: true
          description: The ID of the pillar under which the question falls
          schema:
            type: string
        - name: questionId
          in: path
          required: true
          description: The ID of the question
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QuestionDto'
      responses:
        '200':
          description: The question has been successfully updated
        '400':
          description: Invalid request body or a issue occurred while trying to retrieve the organization of the user
        '404':
          description: The specified assessment, pillar, or question could not be found
        '500':
          description: Internal server error.
  '/assessments/{assessmentId}/pillars/{pillarId}/questions/{questionId}/best-practices/{bestPracticeId}':
    get:
      operationId: getBestPracticeFindings
      tags:
        - Best Practices
      summary: Retrieve all findings for a specific best practice
      description: |
        Fetches all the findings associated with a specific best practice within a question in a given pillar for a specific assessment.
      parameters:
        - name: assessmentId
          in: path
          required: true
          description: The ID of the assessment
          schema:
            type: string
        - name: pillarId
          in: path
          required: true
          description: The ID of the pillar under which the question falls
          schema:
            type: string
        - name: questionId
          in: path
          required: true
          description: The ID of the question to retrieve the best practices to
          schema:
            type: string
        - name: bestPracticeId
          in: path
          required: true
          description: The ID of the best practice to retrieve findings to
          schema:
            type: string
        - name: limit
          in: query
          description: Maximum number of assessments to return
          schema:
            type: integer
            default: 100
        - name: search
          in: query
          description: 'Search term to filter assessments by name, role ARN, or id'
          schema:
            type: string
        - name: showHidden
          in: query
          description: 'Show hidden findings'
          schema:
            type: boolean
        - name: nextToken
          in: query
          description: Token for pagination.
          schema:
            type: string
        - name: version
          in: query
          description: The version of the assessment
          schema:
            type: integer
      responses:
        '200':
          description: A list of findings related to the specified best practice
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Finding'
                  nextToken:
                    type: string
                    description: |
                      Token for pagination. If there are more findings than can be returned in a single response,
                      this token will allow you to retrieve the next set of results.
        '400':
          description: A issue occurred while trying to retrieve the organization of the user
        '404':
          description: The specified best practice could not be found
    put:
      operationId: updateBestPractice
      tags:
        - Best Practices
      summary: Update the details of a specific best practice
      description: |
        Updates the details of a specific best practice.
      parameters:
        - name: assessmentId
          in: path
          required: true
          description: The ID of the assessment
          schema:
            type: string
        - name: pillarId
          in: path
          required: true
          description: The ID of the pillar under which the question falls
          schema:
            type: string
        - name: questionId
          in: path
          required: true
          description: The ID of the question to update the best practice to
          schema:
            type: string
        - name: bestPracticeId
          in: path
          required: true
          description: The ID of the best practice
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BestPracticeDto'
      responses:
        '200':
          description: The best practice has been successfully updated
        '400':
          description: Invalid or empty request body or a issue occurred while trying to retrieve the organization of the user
        '404':
          description: The specified assessment, pillar, question, or best practice could not be found
        '500':
          description: Internal server error.
  '/assessments/{assessmentId}/findings/{findingId}':
    get:
      operationId: getFinding
      tags:
        - Findings
      summary: Retrieve the details of a specific finding
      description: |
        Fetches detailed information about a specific finding related to an assessment,
        including severity, status, and recommended remediation steps.
      parameters:
        - name: assessmentId
          in: path
          required: true
          description: The ID of the assessment to which the finding belongs
          schema:
            type: string
        - name: findingId
          in: path
          required: true
          description: The unique ID of the finding to retrieve
          schema:
            type: string
        - name: version
          in: query
          description: The version of the assessment
          schema:
            type: integer
      responses:
        '200':
          description: Detailed information about the specified finding
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Finding'
        '400':
          description: A issue occurred while trying to retrieve the organization of the user
        '404':
          description: The specified assessment or finding could not be found
        '500':
          description: Internal server error.
    put:
      operationId: updateFinding
      tags:
        - Findings
      summary: Update the details of a specific finding
      description: |
        Updates the details of a specific finding.
      parameters:
        - name: assessmentId
          in: path
          required: true
          description: The ID of the assessment to which the finding belongs
          schema:
            type: string
        - name: findingId
          in: path
          required: true
          description: The unique ID of the finding to retrieve
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FindingDto'
      responses:
        '200':
          description: The finding has been successfully updated
        '400':
          description: Invalid request or empty body or a issue occurred while trying to retrieve the organization of the user
        '404':
          description: The specified assessment could not be found
        '500':
          description: Internal server error.
  '/assessments/{assessmentId}/findings/{findingId}/comments':
    post:
      operationId: addComment
      tags:
        - Findings
      summary: Add a comment to a specific finding
      description: |
        Adds a comment to a specific finding.
      parameters:
        - name: assessmentId
          in: path
          required: true
          description: The ID of the assessment to which the finding belongs
          schema:
            type: string
        - name: findingId
          in: path
          required: true
          description: The unique ID of the finding to add a comment to
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - text
              properties:
                text:
                  type: string
                  description: Text of the comment
      responses:
        '200':
          description: The comment has been successfully added
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Comment'
        '400':
          description: Invalid request body or a issue occurred while trying to retrieve the organization of the user
        '404':
          description: The specified assessment or finding could not be found
        '500':
          description: Internal server error.
  '/assessments/{assessmentId}/findings/{findingId}/comments/{commentId}':
    put:
      operationId: updateComment
      tags:
        - Findings
      summary: Update the details of a specific comment
      description: |
        Updates the details of a specific comment.
      parameters:
        - name: assessmentId
          in: path
          required: true
          description: The ID of the assessment to which the finding belongs
          schema:
            type: string
        - name: findingId
          in: path
          required: true
          description: The unique ID of the finding to which the comment belongs
          schema:
            type: string
        - name: commentId
          in: path
          required: true
          description: The unique ID of the comment to update
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CommentDto'
      responses:
        '200':
          description: The comment has been successfully updated
        '400':
          description: Invalid request body or a issue occurred while trying to retrieve the organization of the user
        '404':
          description: The specified assessment, finding, or comment could not be found
        '500':
          description: Internal server error.
    delete:
      operationId: deleteComment
      tags:
        - Findings
      summary: Delete a specific comment
      description: |
        Deletes a specific comment.
      parameters:
        - name: assessmentId
          in: path
          required: true
          description: The ID of the assessment to which the finding belongs
          schema:
            type: string
        - name: findingId
          in: path
          required: true
          description: The unique ID of the finding to which the comment belongs
          schema:
            type: string
        - name: commentId
          in: path
          required: true
          description: The unique ID of the comment to delete
          schema:
            type: string
      responses:
        '200':
          description: The comment has been successfully deleted
        '400':
          description: A issue occurred while trying to retrieve the organization of the user
  '/assessments/{assessmentId}/opportunities':
    post:
      operationId: createOpportunity
      tags:
        - Assessments
      summary: Create an opportunity for specific assessment
      description: |
        Add an ACE opportunity to the assessment.
      parameters:
        - name: assessmentId
          in: path
          description: The unique ID of the assessment
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - companyName
                - duns
                - industry
                - customerType
                - companyWebsiteUrl
                - customerCountry
                - customerPostalCode
                - monthlyRecurringRevenue
                - targetCloseDate
              properties:
                companyName:
                  type: string
                  description: The name of the customer company.
                duns:
                  type: string
                  description: The data universal number system of the company.
                industry:
                  type: string
                  description: The industry of the cutomer.
                customerType:
                  type: string
                  description: The type of the customer ('customer' or 'internal workload').
                  enum:
                    - INTERNAL_WORKLOAD
                    - CUSTOMER
                companyWebsiteUrl:
                  type: string
                  description: The website of the customer company.
                customerCountry:
                  type: string
                  description: The country code of the customer
                customerPostalCode:
                  type: string
                  description: The postal code of the customer
                monthlyRecurringRevenue:
                  type: string
                  description: The estimated AWS monthly recurring revenue.
                targetCloseDate:
                  type: string
                  description: The target close date (when the opportunity launches and starts to incur AWS usage).
                customerCity:
                  type: string
                  description: The city of the customer.
                customerAddress:
                  type: string
                  description: The address of the customer.
      responses:
        '200':
          description: The opportunity has been successfully added
        '400':
          description: Invalid request body or a issue occurred while trying to retrieve the organization or email of the user
        '404':
          description: The specified assessment could not be found
        '500':
          description: Internal server error.
components:
  schemas:
    Assessment:
      type: object
      properties:
        id:
          type: string
          description: Unique identifier of the assessment
        name:
          type: string
          description: Name or title of the assessment
        createdBy:
          type: string
          description: User who created the assessment
        latestVersion:
          type: integer
          description: Latest version of the assessment
        organization:
          type: string
          description: Organization associated with the assessment
        regions:
          type: array
          items:
            type: string
          description: |
            List of regions to scan
            If empty, all regions will be scanned
        exportRegion:
          type: string
          description: Region where the assessment is exported
        roleArn:
          type: string
          description: Role ARN associated with the assessment
        wafrWorkloadArn:
          type: string
          description: Well-Architected Tool workload ARN
        opportunityId:
          type: string
          description: ACE Opportunity linked to the assessment
        workflows:
          type: array
          items:
            type: string
          description: Workflows associated with the assessment
        createdAt:
          type: string
          description: ISO-formatted date when the assessment was created
        finishedAt:
          type: string
          description: ISO-formatted date when the assessment has finished scanning and processing
        error:
          $ref: '#/components/schemas/AssessmentError'
    AssessmentStep:
      type: string
      description: Current step in the assessment process
      enum:
        - SCANNING_STARTED
        - PREPARING_ASSOCIATIONS
        - ASSOCIATING_FINDINGS
        - FINISHED
        - ERRORED
    AssessmentContent:
      type: object
      allOf:
        - $ref: '#/components/schemas/Assessment'
        - properties:
            pillars:
              type: array
              description: The assessment pillars including questions and best practices
              items:
                $ref: '#/components/schemas/Pillar'
            questionVersion:
              type: string
              description: The version of questions that were used for the assessment
            billingInformation:
              $ref: '#/components/schemas/BillingInformation'
    AssessmentError:
      type: object
      nullable: true
      description: Error details if an issue occurred during the assessment process.
      properties:
        error:
          type: string
        cause:
          type: string
    AssessmentDto:
      type: object
      properties:
        name:
          type: string
    AssessmentGraph:
      type: object
      additionalProperties: false
      required:
        - severity
        - resources
        - findings
      properties:
        severity:
          type: object
          description: Severity levels where findings were found
        resources:
          type: object
          description: Resource types where findings were found
          required:
            - region
            - type
          properties:
            region:
              type: object
              description: Regions where findings were found
            type:
              type: object
              description: Resource types where findings were found
        findings:
          type: integer
          description: Total number of findings
    Finding:
      type: object
      description: 'A finding within an assessment, providing details on the issue found'
      additionalProperties: false
      properties:
        id:
          type: string
          description: Unique identifier of the finding
        version:
          type: integer
          description: Version of the assessment the finding belongs to
        severity:
          type: string
          description: 'Severity level of the finding (e.g., Low, Medium, High)'
        statusCode:
          type: string
          description: 'The status of the finding (e.g., MANUAL, FAIL)'
        statusDetail:
          type: string
          description: Explanation or additional details about the finding's status
        hidden:
          type: boolean
          description: Whether the finding is hidden or not
        resources:
          type: array
          description: List of resources related to the finding
          items:
            type: object
            additionalProperties: false
            properties:
              uid:
                type: string
                description: ARN or unique identifier of the resource
                nullable: true
              name:
                type: string
                description: Name of the resource
                nullable: true
              type:
                type: string
                description: 'Type of resource (e.g., S3Bucket)'
                nullable: true
              region:
                type: string
                description: The region or location of the resource
                nullable: true
        remediation:
          type: object
          description: Remediation advice for resolving the issue found
          additionalProperties: false
          properties:
            desc:
              type: string
              description: Textual guidance on how to resolve the finding
            references:
              type: array
              description: 'List of resources (URLs, CLI commands) for remediation'
              items:
                type: string
        riskDetails:
          type: string
          description: Explanation of the risk associated with the finding
        isAIAssociated:
          type: boolean
          description: Tells whether the finding is associated with an AI or manually
        comments:
          type: array
          items:
            $ref: '#/components/schemas/Comment'
    FindingDto:
      type: object
      properties:
        hidden:
          type: boolean
    Comment:
      type: object
      additionalProperties: false
      required:
        - id
        - authorId
        - text
        - createdAt
      properties:
        id:
          type: string
          description: Unique identifier of the comment
        authorId:
          type: string
          description: Id of the user who created the comment
        authorEmail:
          type: string
          description: Email of the user who created the comment
        text:
          type: string
          description: Text of the comment
        createdAt:
          type: string
          format: date-time
          description: ISO-formatted date of when the comment was created
    CommentDto:
      type: object
      properties:
        text:
          type: string
          description: Text of the comment
    Pillar:
      type: object
      additionalProperties: false
      required:
        - id
        - label
        - disabled
        - questions
      properties:
        id:
          type: string
        label:
          type: string
        disabled:
          type: boolean
        questions:
          type: array
          items:
            $ref: '#/components/schemas/Question'
    PillarDto:
      type: object
      properties:
        disabled:
          type: boolean
    Question:
      type: object
      additionalProperties: false
      required:
        - id
        - label
        - none
        - disabled
        - bestPractices
      properties:
        id:
          type: string
        label:
          type: string
        none:
          type: boolean
        disabled:
          type: boolean
        bestPractices:
          type: array
          items:
            $ref: '#/components/schemas/BestPractice'
    QuestionDto:
      type: object
      properties:
        none:
          type: boolean
        disabled:
          type: boolean
    BestPractice:
      type: object
      description: A best practice related to a question and pillar in the assessment
      additionalProperties: false
      required:
        - id
        - label
        - risk
        - description
        - checked
        - findingAmount
      properties:
        id:
          type: string
        label:
          type: string
        risk:
          type: string
          enum:
            - Unknown
            - Informational
            - Low
            - Medium
            - High
            - Critical
            - Fatal
            - Other
        description:
          type: string
        checked:
          type: boolean
        findingAmount:
          type: number
    BestPracticeDto:
      type: object
      properties:
        checked:
          type: boolean
    Milestone:
      title: Milestone
      type: object
      required:
        - id
        - name
        - createdAt
        - pillars
      properties:
        id:
          type: integer
        name:
          type: string
        createdAt:
          type: string
          format: date-time
        pillars:
          type: array
          items:
            $ref: '#/components/schemas/Pillar'
    MilestoneSummary:
      title: MilestoneSummary
      type: object
      required:
        - id
        - name
        - createdAt
      properties:
        id:
          type: integer
        name:
          type: string
        createdAt:
          type: string
          format: date-time
    FileExport:
      type: object
      description: A file export related to an assessment
      additionalProperties: false
      required:
        - id
        - status
        - versionName
        - createdAt
      properties:
        id:
          type: string
        status:
          type: string
          enum:
            - NOT_STARTED
            - IN_PROGRESS
            - COMPLETED
            - ERRORED
        error:
          type: string
        versionName:
          type: string
        createdAt:
          type: string
    BillingInformation:
      type: object
      required:
        - billingPeriodStartDate
        - billingPeriodEndDate
        - totalCost
        - servicesCost
      properties:
        billingPeriodStartDate:
          type: string
          description: Start date of the billing period (ISO format)
        billingPeriodEndDate:
          type: string
          description: End date of the billing period (ISO format)
        totalCost:
          type: string
          description: Total cost for the billing period
        servicesCost:
          type: array
          description: List of costs per AWS service
          items:
            $ref: '#/components/schemas/ServiceCost'
    ServiceCost:
      type: object
      required:
        - serviceName
        - cost
      properties:
        serviceName:
          type: string
          description: Name of the AWS service
        cost:
          type: string
          description: Cost for the service in the billing period
